.code16
.globl main
main:
	cli
	movw    %cs,%ax          
	movw    %ax,%ds 
	movw	$0xb800,%ax         
	movw	%ax,%es

	xorw	%di,%di
	leaw	welcome,%si
	call	print
	leaw	msg,%si
	call	print

#移动光标,因为不移动光标显示不出来
	movw	$0x3d4,%dx
	movb	$0xe0,%al
	outb	%ax,%dx
	outb	%ax,%dx

fin:
	hlt
	jmp 	fin

print:
	lodsb
	cmpb	$0,%al
	je		print_end
	stosb
	movb	$0x07,%al
	stosb

	jmp 	print
print_end:
	ret

msg:
	.string "Running"
welcome:
	.string "Welcome to My QNIUX"